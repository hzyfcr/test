# 小车巡线程序
## 介绍
该程序是我在电工基地培训时做这道小车巡线行驶系统时所用的第一个巡线测试程序，并非最终代码只能得到偏移角且不准确并未传输小车的偏移角给stm32也无法完成题目的其他要求，当时只是为了测试程序所传的角度是否准确，提交仅练习git使用。
## 使用环境
该程序在树莓派（Linux）上运行，得到小车的偏移量并打印，电脑上python使用的版本为3.9.7，opencv版本为4.6.0.66,numpy版本为1.23.3。
## 基本原理
将摄像头得到的图像转灰度图二值化，经过形态学上的闭运算后，遍历图像中选取的6行像素点，通过排除杂点后得到黑像素点的中心值，根据中心值计算每行遍历偏移的角度，再对6个角度求平均值。
## 使用方法
在树莓派上的直接运行python即可，会显示出原图像，一个调节二值化阈值的窗口，以及根据窗口调节的阈值二值化后的图像，同时会不断打印出计算的偏移角，根据场地的情况调节阈值即可
